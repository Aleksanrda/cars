2020-10-22T20:48:36.3454605+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T20:48:36.3653293+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T20:48:36.3677729+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T20:48:46.4518846+03:00 80000086-0005-fc00-b63f-84710c7967bb [INF] GetCars method called (91263404)
2020-10-22T20:49:25.7251105+03:00 8000005b-0007-fa00-b63f-84710c7967bb [INF] GetCar method called (235589ef)
2020-10-22T20:51:10.3588007+03:00 8000005c-0007-fa00-b63f-84710c7967bb [INF] GetCar method called (235589ef)
2020-10-22T20:51:10.5313757+03:00 8000005c-0007-fa00-b63f-84710c7967bb [WRN] Get "aecfe141-a22b-4c91-82b2-a6fd105d8c48" NOT FOUND (85e33509)
2020-10-22T20:54:07.7556989+03:00 8000003b-0000-fa00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T20:54:08.0757602+03:00 8000003b-0000-fa00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 599769b1-ff3a-42e1-a03e-3ca59f4db422; Reason: ({
  "Errors": [
    "Resource Not Found. Learn more: https://aka.ms/cosmosdb-tsg-not-found"
  ]
});
   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse)
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage)
   at Microsoft.Azure.Cosmos.ContainerCore.DeleteItemAsync[T](CosmosDiagnosticsContext diagnosticsContext, String id, PartitionKey partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](CosmosDiagnosticsContext diagnosticsContext, Func`2 task)
   at Cars.Data.Repositories.CarRepository.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 32
   at Cars.Core.Services.CarsService.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 28
   at Cars.API.Controllers.CarsController.DeleteCar(String id) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T17:54:07.7576032Z","TotalElapsedTimeInMs":16.104,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":1,"FailedRequestCount":1},"Context":[{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":13.4428},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T17:53:05.6396141Z 0.000), (2020-10-22T17:53:15.6429778Z 12.500), (2020-10-22T17:53:25.6468896Z 0.000), (2020-10-22T17:53:45.6449682Z 0.000), (2020-10-22T17:53:55.6411197Z 0.000), (2020-10-22T17:54:05.6385645Z 0.000)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":13.4186},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":10.3765},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":8.9159},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":9.802},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T17:54:07.7595151Z","ResponseTimeUtc":"2020-10-22T17:54:07.7672708Z","ElapsedTimeInMs":7.7557,"ResourceType":"Document","OperationType":"Delete","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"599769b1-ff3a-42e1-a03e-3ca59f4db422","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 32, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#32, UsingLocalLSN: False, TransportException: null"}]}
2020-10-22T20:58:05.5795392+03:00 80000041-0001-fe00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T20:58:05.5817833+03:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T20:58:53.1159916+03:00 80000042-0001-fe00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T20:58:53.1195523+03:00 80000042-0001-fe00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T20:58:53.3321702+03:00 80000042-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: BadRequest (400); Substatus: 1001; ActivityId: afb7a866-807d-43a1-89a2-a9641e38a79a; Reason: (Message: {"Errors":["PartitionKey extracted from document doesn't match the one specified in the header"]}
ActivityId: afb7a866-807d-43a1-89a2-a9641e38a79a, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0);
   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T17:58:53.1197716Z","TotalElapsedTimeInMs":33.0462,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":2,"FailedRequestCount":2},"Context":[{"Id":"ItemSerialize","ElapsedTimeInMs":0.2624},{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":31.2497},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T17:57:55.6420469Z 25.000), (2020-10-22T17:58:05.6489874Z 62.500), (2020-10-22T17:58:15.6482527Z 0.000), (2020-10-22T17:58:25.6394681Z 0.000), (2020-10-22T17:58:35.6489568Z 12.500), (2020-10-22T17:58:45.6498943Z 25.000)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":31.1679},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":27.3493},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":2.8694},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":20.4292},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T17:58:53.1221501Z","ResponseTimeUtc":"2020-10-22T17:58:53.1357979Z","ElapsedTimeInMs":13.6478,"ResourceType":"Document","OperationType":"Upsert","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"afb7a866-807d-43a1-89a2-a9641e38a79a","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 1001, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"},{"Id":"PointOperationStatistics","ActivityId":"afb7a866-807d-43a1-89a2-a9641e38a79a","ResponseTimeUtc":"2020-10-22T17:58:53.1481948Z","StatusCode":400,"SubStatusCode":0,"RequestCharge":1.24,"RequestUri":"dbs/LocalCars/colls/Cars","ErrorMessage":"Microsoft.Azure.Documents.BadRequestException: Message: {\"Errors\":[\"PartitionKey extracted from document doesn't match the one specified in the header\"]}\r\nActivityId: afb7a866-807d-43a1-89a2-a9641e38a79a, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)","RequestSessionToken":null,"ResponseSessionToken":"0:-1#33"}]}
2020-10-22T21:06:03.5987592+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:06:03.6166137+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:06:03.6184723+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:06:29.8286442+03:00 80000021-0003-fe00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T21:06:30.4482649+03:00 80000021-0003-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 70dafc03-cd2f-46c2-91ca-a79d9aec9d84; Reason: ({
  "Errors": [
    "Resource Not Found. Learn more: https://aka.ms/cosmosdb-tsg-not-found"
  ]
});
   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse)
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage)
   at Microsoft.Azure.Cosmos.ContainerCore.DeleteItemAsync[T](CosmosDiagnosticsContext diagnosticsContext, String id, PartitionKey partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](CosmosDiagnosticsContext diagnosticsContext, Func`2 task)
   at Cars.Data.Repositories.CarRepository.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 32
   at Cars.Core.Services.CarsService.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 28
   at Cars.API.Controllers.CarsController.DeleteCar(String id) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:06:29.8346455Z","TotalElapsedTimeInMs":182.9097,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":1,"FailedRequestCount":1},"Context":[{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":150.8826},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:06:01.0434974Z 0.000), (2020-10-22T18:06:11.0446636Z 25.000), (2020-10-22T18:06:21.0476730Z 0.000)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":150.8561},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":140.3997},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":16.3658},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":136.0434},{"Id":"AddressResolutionStatistics","StartTimeUtc":"2020-10-22T18:06:29.9350459Z","EndTimeUtc":"2020-10-22T18:06:29.9385393Z","ElapsedTimeInMs":3.4934,"TargetEndpoint":"https://127.0.0.1:10101//addresses/?$resolveFor=dbs%2f8NQHAA%3d%3d%2fcolls%2f8NQHALPNDR4%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=0"},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:06:29.8651824Z","ResponseTimeUtc":"2020-10-22T18:06:29.9945917Z","ElapsedTimeInMs":129.4093,"ResourceType":"Document","OperationType":"Delete","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"70dafc03-cd2f-46c2-91ca-a79d9aec9d84","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"}]}
2020-10-22T21:08:25.8875686+03:00 80000022-0003-fe00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T21:08:26.1180371+03:00 80000022-0003-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 19eedfe4-c57a-4576-b136-6c9ec2060081; Reason: ({
  "Errors": [
    "Resource Not Found. Learn more: https://aka.ms/cosmosdb-tsg-not-found"
  ]
});
   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse)
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage)
   at Microsoft.Azure.Cosmos.ContainerCore.DeleteItemAsync[T](CosmosDiagnosticsContext diagnosticsContext, String id, PartitionKey partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](CosmosDiagnosticsContext diagnosticsContext, Func`2 task)
   at Cars.Data.Repositories.CarRepository.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 32
   at Cars.Core.Services.CarsService.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 28
   at Cars.API.Controllers.CarsController.DeleteCar(String id) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:08:25.8878108Z","TotalElapsedTimeInMs":16.4461,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":1,"FailedRequestCount":1},"Context":[{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":15.5002},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:07:31.0577719Z 62.500), (2020-10-22T18:07:41.0532177Z 0.000), (2020-10-22T18:07:51.0534106Z 0.000), (2020-10-22T18:08:01.0550194Z 0.000), (2020-10-22T18:08:11.0509219Z 0.000), (2020-10-22T18:08:21.0470280Z 0.000)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":15.4627},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":11.5878},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":5.7759},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":10.9536},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:08:25.8890045Z","ResponseTimeUtc":"2020-10-22T18:08:25.8954902Z","ElapsedTimeInMs":6.4857,"ResourceType":"Document","OperationType":"Delete","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"19eedfe4-c57a-4576-b136-6c9ec2060081","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"}]}
2020-10-22T21:08:43.7831589+03:00 80000023-0003-fe00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T21:08:55.7401447+03:00 80000023-0003-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 50f0d360-95ca-4c08-b650-72f1b7e30bcb; Reason: ({
  "Errors": [
    "Resource Not Found. Learn more: https://aka.ms/cosmosdb-tsg-not-found"
  ]
});
   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse)
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage)
   at Microsoft.Azure.Cosmos.ContainerCore.DeleteItemAsync[T](CosmosDiagnosticsContext diagnosticsContext, String id, PartitionKey partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](CosmosDiagnosticsContext diagnosticsContext, Func`2 task)
   at Cars.Data.Repositories.CarRepository.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 32
   at Cars.Core.Services.CarsService.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 28
   at Cars.API.Controllers.CarsController.DeleteCar(String id) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:08:55.1612188Z","TotalElapsedTimeInMs":33.0601,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":1,"FailedRequestCount":1},"Context":[{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":32.0172},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:08:01.0550194Z 0.000), (2020-10-22T18:08:11.0509219Z 0.000), (2020-10-22T18:08:21.0470280Z 0.000), (2020-10-22T18:08:31.0595386Z 0.000), (2020-10-22T18:08:41.0500274Z 0.000), (2020-10-22T18:08:55.1540295Z 15.125)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":32.0005},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":4.7137},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":2.5826},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":3.9767},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:08:55.1618423Z","ResponseTimeUtc":"2020-10-22T18:08:55.1652196Z","ElapsedTimeInMs":3.3773,"ResourceType":"Document","OperationType":"Delete","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"50f0d360-95ca-4c08-b650-72f1b7e30bcb","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"}]}
2020-10-22T21:12:15.6520510+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:12:15.6698449+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:12:15.6723848+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:12:36.9657799+03:00 800000bd-0002-fb00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T21:13:41.3217750+03:00 800000bd-0002-fb00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 5f92d0df-4b94-4c39-b515-761cf036a34b; Reason: ({
  "Errors": [
    "Resource Not Found. Learn more: https://aka.ms/cosmosdb-tsg-not-found"
  ]
});
   at Microsoft.Azure.Cosmos.ResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.ProcessMessage[T](ResponseMessage responseMessage, Func`2 createResponse)
   at Microsoft.Azure.Cosmos.CosmosResponseFactoryCore.CreateItemResponse[T](ResponseMessage responseMessage)
   at Microsoft.Azure.Cosmos.ContainerCore.DeleteItemAsync[T](CosmosDiagnosticsContext diagnosticsContext, String id, PartitionKey partitionKey, ItemRequestOptions requestOptions, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](CosmosDiagnosticsContext diagnosticsContext, Func`2 task)
   at Cars.Data.Repositories.CarRepository.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 32
   at Cars.Core.Services.CarsService.DeleteCarAsync(String carId) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 28
   at Cars.API.Controllers.CarsController.DeleteCar(String id) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:13:40.3329675Z","TotalElapsedTimeInMs":207.0032,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":1,"FailedRequestCount":1},"Context":[{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":173.0206},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:12:14.8891456Z 18.750), (2020-10-22T18:12:24.8895213Z 0.000), (2020-10-22T18:12:34.8887261Z 12.500)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":173.0034},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":162.8573},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":16.5738},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":157.8328},{"Id":"AddressResolutionStatistics","StartTimeUtc":"2020-10-22T18:13:40.4603401Z","EndTimeUtc":"2020-10-22T18:13:40.4639394Z","ElapsedTimeInMs":3.5993,"TargetEndpoint":"https://127.0.0.1:10101//addresses/?$resolveFor=dbs%2f8NQHAA%3d%3d%2fcolls%2f8NQHALPNDR4%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=0"},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:13:40.3651704Z","ResponseTimeUtc":"2020-10-22T18:13:40.5141184Z","ElapsedTimeInMs":148.948,"ResourceType":"Document","OperationType":"Delete","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"5f92d0df-4b94-4c39-b515-761cf036a34b","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"}]}
2020-10-22T21:21:34.0164017+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:21:34.0314312+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:21:34.0333643+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:21:53.4515061+03:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] DeleteCar method called (7438daea)
2020-10-22T21:25:24.7586512+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:25:24.7714922+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:25:24.7740340+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:25:47.3707257+03:00 80000027-0004-fe00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T21:25:47.3741573+03:00 80000027-0004-fe00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T21:25:47.8890897+03:00 80000027-0004-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: BadRequest (400); Substatus: 1001; ActivityId: 17ce50d8-7cd8-4f47-90d7-320e8a7d7327; Reason: (Message: {"Errors":["PartitionKey extracted from document doesn't match the one specified in the header"]}
ActivityId: 17ce50d8-7cd8-4f47-90d7-320e8a7d7327, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0);
   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:25:47.3783247Z","TotalElapsedTimeInMs":258.277,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":2,"FailedRequestCount":2},"Context":[{"Id":"ItemSerialize","ElapsedTimeInMs":10.3247},{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":172.724},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:25:24.0177337Z 27.273), (2020-10-22T18:25:34.0362559Z 6.250), (2020-10-22T18:25:44.0310362Z 12.500)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":172.7062},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":164.0945},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":14.0836},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":111.7052},{"Id":"AddressResolutionStatistics","StartTimeUtc":"2020-10-22T18:25:47.5054844Z","EndTimeUtc":"2020-10-22T18:25:47.5089395Z","ElapsedTimeInMs":3.4551,"TargetEndpoint":"https://127.0.0.1:10101//addresses/?$resolveFor=dbs%2f8NQHAA%3d%3d%2fcolls%2f8NQHALPNDR4%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=0"},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:25:47.4628881Z","ResponseTimeUtc":"2020-10-22T18:25:47.5640649Z","ElapsedTimeInMs":101.1768,"ResourceType":"Document","OperationType":"Upsert","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"17ce50d8-7cd8-4f47-90d7-320e8a7d7327","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 1001, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"},{"Id":"PointOperationStatistics","ActivityId":"17ce50d8-7cd8-4f47-90d7-320e8a7d7327","ResponseTimeUtc":"2020-10-22T18:25:47.6252510Z","StatusCode":400,"SubStatusCode":0,"RequestCharge":1.24,"RequestUri":"dbs/LocalCars/colls/Cars","ErrorMessage":"Microsoft.Azure.Documents.BadRequestException: Message: {\"Errors\":[\"PartitionKey extracted from document doesn't match the one specified in the header\"]}\r\nActivityId: 17ce50d8-7cd8-4f47-90d7-320e8a7d7327, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)","RequestSessionToken":null,"ResponseSessionToken":"0:-1#33"}]}
2020-10-22T21:26:55.7892869+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:26:55.8053927+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:26:55.8078018+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:27:06.0691849+03:00 80000053-0004-fc00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T21:27:06.0726257+03:00 80000053-0004-fc00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T21:27:06.6186053+03:00 80000053-0004-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: BadRequest (400); Substatus: 1001; ActivityId: f0a5bb06-8eda-43cd-ad03-f4fb649c7e08; Reason: (Message: {"Errors":["PartitionKey extracted from document doesn't match the one specified in the header"]}
ActivityId: f0a5bb06-8eda-43cd-ad03-f4fb649c7e08, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0);
   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:27:06.0780956Z","TotalElapsedTimeInMs":256.2197,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":2,"FailedRequestCount":2},"Context":[{"Id":"ItemSerialize","ElapsedTimeInMs":10.9656},{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":182.4715},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:26:55.0683329Z 12.500), (2020-10-22T18:27:05.0785827Z 0.000)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":182.4547},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":171.8857},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":15.108},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":114.163},{"Id":"AddressResolutionStatistics","StartTimeUtc":"2020-10-22T18:27:06.1966913Z","EndTimeUtc":"2020-10-22T18:27:06.2003551Z","ElapsedTimeInMs":3.6638,"TargetEndpoint":"https://127.0.0.1:10101//addresses/?$resolveFor=dbs%2f8NQHAA%3d%3d%2fcolls%2f8NQHALPNDR4%3d%2fdocs&$filter=protocol eq rntbd&$partitionKeyRangeIds=0"},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:27:06.1509058Z","ResponseTimeUtc":"2020-10-22T18:27:06.2555425Z","ElapsedTimeInMs":104.6367,"ResourceType":"Document","OperationType":"Upsert","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"f0a5bb06-8eda-43cd-ad03-f4fb649c7e08","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 1001, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"},{"Id":"PointOperationStatistics","ActivityId":"f0a5bb06-8eda-43cd-ad03-f4fb649c7e08","ResponseTimeUtc":"2020-10-22T18:27:06.3211353Z","StatusCode":400,"SubStatusCode":0,"RequestCharge":1.24,"RequestUri":"dbs/LocalCars/colls/Cars","ErrorMessage":"Microsoft.Azure.Documents.BadRequestException: Message: {\"Errors\":[\"PartitionKey extracted from document doesn't match the one specified in the header\"]}\r\nActivityId: f0a5bb06-8eda-43cd-ad03-f4fb649c7e08, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)","RequestSessionToken":null,"ResponseSessionToken":"0:-1#33"}]}
2020-10-22T21:27:24.9640148+03:00 80000054-0004-fc00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T21:27:24.9661778+03:00 80000054-0004-fc00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T21:27:53.7732711+03:00 80000054-0004-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: BadRequest (400); Substatus: 1001; ActivityId: f034a9f4-e117-41e2-9a76-07b314b1ef54; Reason: (Message: {"Errors":["PartitionKey extracted from document doesn't match the one specified in the header"]}
ActivityId: f034a9f4-e117-41e2-9a76-07b314b1ef54, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0);
   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)
--- Cosmos Diagnostics ---{"DiagnosticVersion":"2","Summary":{"StartUtc":"2020-10-22T18:27:40.5004668Z","TotalElapsedTimeInMs":110.8733,"UserAgent":"cosmos-netstandard-sdk/3.14.0|3.14.0|01|X64|Microsoft Windows 10.0.19041|.NET Core 3.1.9|","TotalRequestCount":2,"FailedRequestCount":2},"Context":[{"Id":"ItemSerialize","ElapsedTimeInMs":29.2971},{"Id":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","HandlerElapsedTimeInMs":63.4419},{"Id":"SystemInfo","CpuHistory":"(2020-10-22T18:26:55.0683329Z 12.500), (2020-10-22T18:27:05.0785827Z 0.000), (2020-10-22T18:27:15.0734859Z 0.000), (2020-10-22T18:27:26.6720446Z 11.053), (2020-10-22T18:27:38.4531186Z 13.263)"},{"Id":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","HandlerElapsedTimeInMs":63.3931},{"Id":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","HandlerElapsedTimeInMs":59.4284},{"Id":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","HandlerElapsedTimeInMs":43.6448},{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":12,"Uri":"rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/"}],"RegionsContacted":["https://127.0.0.1:10101/"],"FailedReplicas":[]},{"Id":"Microsoft.Azure.Documents.ServerStoreModel","ElapsedTimeInMs":54.3785},{"Id":"StoreResponseStatistics","StartTimeUtc":"2020-10-22T18:27:40.5791907Z","ResponseTimeUtc":"2020-10-22T18:27:40.5976536Z","ElapsedTimeInMs":18.4629,"ResourceType":"Document","OperationType":"Upsert","LocationEndpoint":"https://127.0.0.1:10101/","ActivityId":"f034a9f4-e117-41e2-9a76-07b314b1ef54","StoreResult":"StorePhysicalAddress: rntbd://127.0.0.1:10253/apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 33, GlobalCommittedLsn: -1, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 400, SubStatusCode: 1001, RequestCharge: 1.24, ItemLSN: -1, SessionToken: -1#33, UsingLocalLSN: False, TransportException: null"},{"Id":"PointOperationStatistics","ActivityId":"f034a9f4-e117-41e2-9a76-07b314b1ef54","ResponseTimeUtc":"2020-10-22T18:27:40.6065345Z","StatusCode":400,"SubStatusCode":0,"RequestCharge":1.24,"RequestUri":"dbs/LocalCars/colls/Cars","ErrorMessage":"Microsoft.Azure.Documents.BadRequestException: Message: {\"Errors\":[\"PartitionKey extracted from document doesn't match the one specified in the header\"]}\r\nActivityId: f034a9f4-e117-41e2-9a76-07b314b1ef54, Request URI: /apps/DocDbApp/services/DocDbServer24/partitions/a4cb4964-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats: Please see CosmosDiagnostics, SDK: Windows/10.0.19041 cosmos-netstandard-sdk/3.14.0\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass30_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy, Func`2 prepareRequestAsyncDelegate)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessUpsertAsync(IStoreModel storeProxy, DocumentServiceRequest serviceRequest, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)","RequestSessionToken":null,"ResponseSessionToken":"0:-1#33"}]}
2020-10-22T21:28:20.3775417+03:00 80000055-0004-fc00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T21:28:20.3798094+03:00 80000055-0004-fc00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T21:29:47.1098051+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T21:29:47.1228035+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T21:29:47.1248867+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T21:29:48.4831068+03:00 800000d3-0004-ff00-b63f-84710c7967bb [INF] PutCar method called (812269bd)
2020-10-22T21:29:48.4858133+03:00 800000d3-0004-ff00-b63f-84710c7967bb [INF] Model state is valid (da8e6264)
2020-10-22T22:05:06.5310909+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T22:05:06.5456253+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T22:05:06.5478262+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T22:05:22.3789094+03:00 80000020-0005-ff00-b63f-84710c7967bb [INF] GetCars method called (91263404)
2020-10-22T22:05:54.6164709+03:00 80000020-0005-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NotSupportedException: To execute LINQ query please set allowSynchronousQueryExecution true or use GetItemQueryIterator to execute asynchronously
   at Microsoft.Azure.Cosmos.Linq.CosmosLinqQuery`1.GetEnumerator()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Cars.Data.Repositories.CarRepository.GetCarsAsync(String queryString) in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Data\Repositories\CarRepository.cs:line 60
   at Cars.Core.Services.CarsService.GetCarsAsync() in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.Core\Services\CarsService.cs:line 42
   at Cars.API.Controllers.CarsController.GetCars() in C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API\Controllers\CarsController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-22T22:06:01.9220150+03:00 80000021-0005-ff00-b63f-84710c7967bb [INF] GetCars method called (91263404)
2020-10-22T22:13:18.4977146+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-22T22:13:18.5419096+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-22T22:13:18.5444845+03:00  [INF] Content root path: "C:\Users\akryvk\Github\Trainee\cars\Cars\Cars.API" (b5d60022)
2020-10-22T22:13:37.1503576+03:00 80000088-0007-fa00-b63f-84710c7967bb [INF] GetCars method called (91263404)
